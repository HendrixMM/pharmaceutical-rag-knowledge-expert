#############################################
# Unified Environment Configuration (.env)  #
#############################################
#
# How to use this file
# - This single .env contains all keys/settings used by the app, tests, and CI.
# - Local runs: place this file at the repo root. tests/conftest.py auto-loads it.
# - CI runs: prefer GitHub Secrets for sensitive values (see .github/workflows/tests.yml).
# - Security: Only commit real secrets to private repos you control.
#
# Reloading environment
# - Bash:   export $(grep -v '^#' .env | xargs)
# - Python: from dotenv import load_dotenv; load_dotenv()

########## Core Credentials ##########
# NVIDIA NeMo API key (required for NeMo services)
NVIDIA_API_KEY=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
# (Deprecated) APIFY_TOKEN is no longer used; E-utilities is the primary source.

########## Paths & Chunking ##########
DOCS_FOLDER=Data/Docs
VECTOR_DB_PATH=./vector_db
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

########## NeMo Extraction (Document Ingestion) ##########
# Master switch: when true, use NeMo VLM-based extraction with fallback to PyPDF
ENABLE_NEMO_EXTRACTION=false
# Strategy: auto | nemo | unstructured
NEMO_EXTRACTION_STRATEGY=auto
# Pharma-specific analysis and metadata enrichment
NEMO_PHARMACEUTICAL_ANALYSIS=true
# Chunking strategy for NeMo pre-chunked docs: semantic | title | page
NEMO_CHUNK_STRATEGY=semantic
# Preserve tables and extract images/charts (cost/time tradeoffs)
NEMO_PRESERVE_TABLES=true
NEMO_EXTRACT_IMAGES=true

########## PubMed Search Settings ##########
# Cache and scraping settings for internal query engine
PUBMED_CACHE_DIR=./pubmed_cache
PUBMED_CACHE_TTL_HOURS=24
DEFAULT_MAX_ITEMS=30
HARD_CAP_MAX_ITEMS=100
ENABLE_DEDUPLICATION=true
ENABLE_PHARMA_QUERY_ENHANCEMENT=true
MAX_QUERY_LENGTH=1800

########## Embedding Model Preference ##########
# Preferred embedding model; falls back automatically if unavailable
EMBEDDING_MODEL_NAME=nvidia/llama-3.2-nemoretriever-1b-vlm-embed-v1

########## PubMed E-utilities (Preferred external source) ##########
# Optional NCBI API key enables higher rate limits (up to 10 rps); provide an email for courteous usage.
PUBMED_EUTILS_API_KEY=
PUBMED_EMAIL=you@example.com

########## Optional: Real API Integration Test ##########
# Set a real local PDF path to enable tests/test_nemo_extraction_integration.py
# Leave empty to skip integration test by default
TEST_REAL_PDF_PATH=
